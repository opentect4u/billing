<style>
  table {
    text-align: center;
    border: none;
  }

  table .texAlignLeft {
    text-align: left;
  }

  table .texAlignRight {
    text-align: right;
  }

  .tot_section {
    display: flex;
    justify-content: space-around;
    flex-direction: row;
  }
</style>
<div class="container-fluid">
  <div class="row">
    <div class="col-12">
      <div class="card">
        <div class="col-sm-6 mt-3">
          <i class='fas fa-file-invoice' style='font-size:20px;'>&nbsp;<span class="text-color"
              style="font-size: 25px">Receiptwise Sale Report Details</span style="font-size: 25px;"></i>&nbsp;
          <ul class="breadcrumb">
            <li><a href="/report/receiptwise_report">Receiptwise Sale Report</a></li>&nbsp; / &nbsp;
            <li>Receiptwise Sale Report Details</li>
          </ul>
        </div>
        <div class="card-body" id="divToPrint">

          <center>
            <table width="50%">
              <tr>
                <td colspan="5"><span class="text-color">
                    <%= comp_dt[0].company_name %>
                  </span></td>
              </tr>
              <tr>
                <td colspan="5"><span class="text-color">Welcome</span></td>
              </tr>
              <tr>
                <td colspan="5"><span class="text-color">Your Purchase Bill</span></td>
              </tr>
              <tr>
                <td colspan="5"><span class="text-color">RECEIPT</span></td>
              </tr>
              <tr>
                <td colspan="5">
                  <p class="text-color" style="border-style: dashed; border-width: 1px;width: 100%;"></p>
                </td>
              </tr>
              <tr>
                <td colspan="5"><span class="text-color">
                    <%= comp_dt[0].address %>
                  </span></td>
              </tr>
              <tr>
                <td colspan="5">
                  <!-- <p class="text-color" style="border-style: dashed; border-width: 1px;width: 100%;"></p> -->
                </td>
              </tr>
              <tr>
                <td colspan="5"><span class="text-color">
                    <%= brn_dt[0].branch_name %>
                  </span></td>
              </tr>
              <tr>
                <td colspan="5">
                  <p class="text-color" style="border-style: dashed; border-width: 1px;width: 100%;"></p>
                </td>
              </tr>
              <tr>
                <td colspan="2" class="texAlignLeft text-color">MOBILE:</td>
                <td colspan="3" class="texAlignRight text-color">
                  <%= comp_dt[0].phone_no %>
                </td>
              </tr>
              <tr>
                <td colspan="2" class="texAlignLeft text-color">EMAIL:</td>
                <td colspan="3" class="texAlignRight text-color">
                  <%= comp_dt[0].email_id %>
                </td>
              </tr>
              <tr>
                <td colspan="5">
                  <p class="text-color" style="border-style: dashed; border-width: 1px;width: 100%;"></p>
                </td>
              </tr>
              <tr>
                <td colspan="2" class="texAlignLeft text-color">RECPT. NO:</td>
                <td colspan="3" class="texAlignRight text-color">
                  <%= bill_dt[0].receipt_no %>
                </td>
              </tr>
              <tr>
                <td colspan="2" class="texAlignLeft text-color">DATE:</td>
                <td colspan="3" class="texAlignRight text-color">
                  <%= new Date(bill_dt[0].trn_date).toLocaleDateString('en-US', { year: 'numeric' , month: 'short' ,
                    day: 'numeric' }) %>
                </td>
              </tr>
              <tr>
                <td colspan="2" class="texAlignLeft text-color">CASHIER:</td>
                <td colspan="3" class="texAlignRight text-color">
                  <%= bill_dt[0].created_by %>
                </td>
              </tr>
              <tr>
                <td colspan="5">
                  <p class="text-color" style="border-style: dashed; border-width: 1px;width: 100%;"></p>
                </td>
              </tr>
              <tr>
                <td colspan="2" class="texAlignLeft text-color">NAME:</td>
                <td colspan="3" class="texAlignRight text-color">
                  <%= bill_dt[0].cust_name %>
                </td>
              </tr>
              <tr>
                <td colspan="2" class="texAlignLeft text-color">PHONE:</td>
                <td colspan="3" class="texAlignRight text-color">
                  <%= bill_dt[0].phone_no %>
                </td>
              </tr>
              <tr>
                <td colspan="5">
                  <p class="text-color" style="border-style: dashed; border-width: 1px;width: 100%;"></p>
                </td>
              </tr>
              <tr>
                <th class="text-color">ITEM</th>
                <th class="text-color">QTY</th>
                <th class="text-color">PRICE</th>
                <th class="text-color">DIS.</th>
                <th class="text-color">AMT</th>
              </tr>
              <tr>
                <td colspan="5">
                  <p class="text-color" style="border-style: dashed; border-width: 1px;width: 100%;"></p>
                </td>
              </tr>
              <% var tot_item=0, tot_qty=0, tot_amt=0; bill_item_dt.forEach(dt=> {
                tot_item += 1
                tot_qty += dt.qty
                tot_amt += dt.amount
                %>
                <tr>
                  <td class="text-color">
                    <%= dt.item_name %>
                  </td>
                  <td class="text-color">
                    <%= dt.qty %>
                  </td>
                  <td class="text-color">
                    <%= dt.price %>
                  </td>
                  <td class="text-color">
                    <%= dt.discount_amt %>
                  </td>
                  <td class="text-color">
                    <%= dt.amount %>
                  </td>
                </tr>
                <% }) %>
                  <tr>
                    <td colspan="5">
                      <p class="text-color" style="border-style: dashed; border-width: 1px;width: 100%;"></p>
                    </td>
                  </tr>
                  <tr>
                    <td colspan="5">
                      <div class="tot_section">
                        <label class="text-color">ITEM: <span class="text-color">
                            <%= tot_item %>
                          </span></label>
                        <label class="text-color">QTY: <span class="text-color">
                            <%= tot_qty %>
                          </span></label>
                        <label class="text-color">AMT: <span class="text-color">
                            <%= tot_amt %>
                          </span></label>
                      </div>
                    </td>
                  </tr>
                  <tr>
                    <td colspan="2" class="texAlignLeft text-color">DISCOUNT:</td>
                    <td colspan="3" class="texAlignRight text-color">
                      <%= bill_item_dt[0].discount_amt %>
                    </td>
                  </tr>
                  <tr>
                    <td colspan="2" class="texAlignLeft text-color">TOTAL:</td>
                    <td colspan="3" class="texAlignRight text-color">
                      <%= bill_item_dt[0].amount %>
                    </td>
                  </tr>
                  <tr>
                    <td colspan="2" class="texAlignLeft text-color">ROUND OFF:</td>
                    <td colspan="3" class="texAlignRight text-color">
                      <%= bill_item_dt[0].round_off %>
                    </td>
                  </tr>
                  <tr>
                    <td colspan="2" class="texAlignLeft text-color">NET AMT:</td>
                    <td colspan="3" class="texAlignRight text-color">
                      <%= bill_item_dt[0].net_amt %>
                    </td>
                  </tr>
                  <tr>
                    <td colspan="5">
                      <p class="text-color" style="border-style: dashed; border-width: 1px;width: 100%;"></p>
                    </td>
                  </tr>
                  <tr>
                    <td colspan="5" class="text-color"><span>PAYMENT MODE</span></td>
                  </tr>
                  <tr>
                    <td colspan="2" class="texAlignLeft text-color">CASH RECEIVED:</td>
                    <td colspan="3" class="texAlignRight text-color">
                      <%= bill_dt[0].received_amt %>
                    </td>
                  </tr>
                  <tr>
                    <td colspan="2" class="texAlignLeft text-color">RETURNED AMT:</td>
                    <td colspan="3" class="texAlignRight text-color">
                      <%= bill_dt[0].received_amt - bill_dt[0].net_amt %>
                    </td>
                  </tr>
                  <tr>
                    <td colspan="5">
                      <p class="text-color" style="border-style: dashed; border-width: 1px;width: 100%;"></p>
                    </td>
                  </tr>
                  <tr>
                    <td colspan="5" class="text-color">Thank You, Visit Again</td>
                  </tr>
                  <tr>
                    <td colspan="5" class="text-color">Have a nice day</td>
                  </tr>
                  <tr>
                    <td colspan="5" class="text-color">-----X-----</td>
                  </tr>
            </table>
          </center>

         

        </div>
        <div class="mt-2" id="btnclass">
          <div class="row">
            <div class="col-sm-12">
              <button type="button" class="btn btn-primary" id="printMe" onclick="printDiv()"
                style="border-radius: 11px;margin-bottom: 17px;margin-left: 18px;">
                Print
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  function printDiv() {

    var divToPrint = document.getElementById('divToPrint');

    var WindowObject = window.open('', 'Print-Window');
    WindowObject.document.open();
    WindowObject.document.writeln('<!DOCTYPE html>');
    WindowObject.document.writeln('<html><head><title></title><style type="text/css">');


    WindowObject.document.writeln('@media print {' +
      'table { text-align: center; border: none; }' +
      'table .texAlignLeft { text-align: left; }' +
      'table .texAlignRight { text-align: right; }' +
      '.tot_section { display: flex; justify-content: space-around; flex-direction: row; }' +
      '} </style>');
    WindowObject.document.writeln('<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback">');
    WindowObject.document.writeln('<link rel="stylesheet" href="/plugins/fontawesome-free/css/all.min.css">');
    WindowObject.document.writeln('<link rel="stylesheet" href="/css/adminlte.min.css">');
    WindowObject.document.writeln('</head><body onload="window.print()">');
    WindowObject.document.writeln(divToPrint.innerHTML);
    WindowObject.document.writeln('</body></html>');
    WindowObject.document.close();
    setTimeout(function () {
      WindowObject.close();
    }, 8);

  }
</script>